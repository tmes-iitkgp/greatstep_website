{% extends "base.html" %}

{% block title %}Home - Great Step{% endblock %}

{% block extra_head %}
<style>
        .header-image img.ncl-img {
            height: 50px;
            max-width: 150px;
            width: auto;
            object-fit: contain;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            padding: 4px;
        }
    .header-image {
        display: flex;
        align-items: center;
        gap: 16px;
        justify-content: center;
        margin-bottom: 1rem;
    }
    .header-image img {
        height: 70px;
        max-width: 120px;
        width: 100%;
        object-fit: contain;
        display: block;
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.07);
        padding: 4px;
    }
    @media (max-width: 600px) {
        .header-image img {
            height: 40px;
            max-width: 70px;
            padding: 2px;
        }
        .header-image {
            gap: 8px;
        }
    }
    .register-hero-btn {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 16px 32px;
        background: var(--gradient-gold);
        color: #1a1a2e !important;
        border: none;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 700;
        text-decoration: none;
        transition: all 0.3s ease;
        box-shadow: var(--shadow-gold);
    }
    
    .register-hero-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 30px rgba(212, 175, 55, 0.5);
        color: #1a1a2e !important;
    }
    
    .register-hero-btn i {
        font-size: 1.2rem;
    }
    
    .explore-events-btn {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        padding: 16px 32px;
        background: transparent;
        color: var(--color-text) !important;
        border: 2px solid var(--color-primary);
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 500;
        text-decoration: none;
        transition: all 0.3s ease;
    }
    
    .explore-events-btn:hover {
        background: var(--color-primary);
        border-color: var(--color-primary);
        color: white !important;
        transform: translateY(-2px);
    }
    
    @media (max-width: 600px) {
        .register-hero-btn, .explore-events-btn {
            width: 100%;
            justify-content: center;
            padding: 14px 24px;
            font-size: 1rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<div id="home">
    <!-- Header Section -->
    <section class="header section__padding">
        <div class="header-content">
            <div class="header-image">
                <img src="{{ url_for('static', filename='images/Sponsors/wcl.png') }}" alt="WCL" />
                <h2>&amp;</h2>
                <img src="{{ url_for('static', filename='images/Sponsors/gmdc.jpg') }}" alt="GMDC" />
            </div>

            <h2 class="text__tmes">Technology Mining Engineering Society</h2>
            <p style="font-size: 1.6rem;" class="animate-charcter">
                PRESENTS
            </p>
            <h1 class="animate-charcter gradient__text">GREAT-STEP’26</h1>
            <h2 class="animate-charcter" style="font-size: 1.2rem; color: var(--color-subtext);">13th-15th MARCH</h2>
            <p>
                Upholding its legacy as a pioneer in the field, the Department of Mining Engineering, IIT Kharagpur has consistently championed the integration of practical knowledge with innovation. This philosophy has transformed traditional engineering principles into solutions aligned with modern technological demands.
            </p>
            <p>
                With this vision and a commitment to keeping pace with advancements in the Mining and Geology industries, the Department launched GREATSTEP (Geo-Resource Engineering and Technology Students’–Teachers’–Employers’ Partnership) in 2008. Designed as a collaborative platform for aspiring mining engineers, the fest has, over fourteen editions, hosted intellectually stimulating challenges, insightful guest lectures, and hands-on workshops that encourage exploration beyond conventional boundaries.
            </p>
            
            <!-- Register Now Button -->
            <div style="margin-top: 30px; display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
                <a href="{{ url_for('greatstep_register') }}" class="register-hero-btn">
                    <i class="fas fa-star"></i> Register for Great Step 2026
                </a>
                <a href="{{ url_for('events') }}" class="explore-events-btn">
                    <i class="fas fa-calendar-alt"></i> Explore Events
                </a>
            </div>
        </div>
    </section>

    <!-- Image Carousel/Swiper Section -->
    <section class="carousel2">
        <div class="carousel2-title">
            <h2>Event Highlights</h2>
        </div>
        <div class="swiper-container">
            <div class="swiper-wrapper" id="carousel-track">
                <div class="swiper-slide">
                    <img src="{{ url_for('static', filename='images/event-highlights/1.jpeg') }}" alt="Event 1" />
                </div>
                <div class="swiper-slide">
                    <img src="{{ url_for('static', filename='images/event-highlights/2.jpeg') }}" alt="Event 2" />
                </div>
                <div class="swiper-slide">
                    <img src="{{ url_for('static', filename='images/event-highlights/3.jpeg') }}" alt="Event 3" />
                </div>
                <div class="swiper-slide">
                    <img src="{{ url_for('static', filename='images/event-highlights/4.jpeg') }}" alt="Event 4" />
                </div>
                <div class="swiper-slide">
                    <img src="{{ url_for('static', filename='images/event-highlights/5.jpeg') }}" alt="Event 5" />
                </div>
                <div class="swiper-slide">
                    <img src="{{ url_for('static', filename='images/event-highlights/6.jpeg') }}" alt="Event 6" />
                </div>
            </div>
        </div>
    </section>

    <!-- Video/Prof Section -->
    <section class="video_section Prof section__padding" style="height: fit-content;">
        <div style="width: 100%; display: flex; justify-content: center;">
            <video src="{{ url_for('static', filename='videos/vid2.mp4') }}" controls loop autoplay muted></video>
        </div>
    </section>

    <!-- Sponsors Slider Section -->
    <section class="section__padding sponsors-slider" style="padding: 1rem 0;">
        <div style="display: flex; justify-content: center;">
            <h1 class="gradient__text animate-charcter" style="font-size: 3rem;">
                Our Sponsors
            </h1>
        </div>
        <div class="marquee-container">
            <div class="marquee">
                <div class="marquee-content" id="sponsor-track">
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/gmdc.jpg') }}" alt="GMDC" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/mg_logo.png') }}" alt="MG" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/sigma.png') }}" alt="SIGMA" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/TexMin.png') }}" alt="TexMin" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/wcl.png') }}" alt="WCL" />
                    </div>
                    <!-- Loop for seamless scroll -->
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/gmdc.jpg') }}" alt="GMDC" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/mg_logo.png') }}" alt="MG" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/sigma.png') }}" alt="SIGMA" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/TexMin.png') }}" alt="TexMin" />
                    </div>
                    <div class="sponsor-card">
                        <img src="{{ url_for('static', filename='images/Sponsors/wcl.png') }}" alt="WCL" />
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<style>
@keyframes smoothCarouselScroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
}
@keyframes smoothSponsorScroll {
    from { transform: translateX(0); }
    to { transform: translateX(-50%); }
}
#carousel-track {
    animation: smoothCarouselScroll 25s linear infinite;
    will-change: transform;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}
#carousel-track:hover,
#carousel-track.paused {
    animation-play-state: paused !important;
}
#sponsor-track {
    animation: smoothSponsorScroll 15s linear infinite;
    will-change: transform;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}
#sponsor-track:hover,
#sponsor-track.paused {
    animation-play-state: paused !important;
}
@media (max-width: 600px) {
    #carousel-track {
        animation-duration: 12s !important;
    }
    #sponsor-track {
        animation-duration: 7s !important;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Event Highlights Carousel
    const track = document.getElementById('carousel-track');
    if (track) {
        // Clone content for seamless loop
        const originalContent = track.innerHTML;
        track.innerHTML = originalContent + originalContent;
        
        // Prevent image dragging
        track.querySelectorAll('img').forEach(img => {
            img.addEventListener('dragstart', e => e.preventDefault());
        });
    }
    
    // Sponsors Carousel
    const sponsorTrack = document.getElementById('sponsor-track');
    if (sponsorTrack) {
        // Clone content for seamless loop
        const originalContent = sponsorTrack.innerHTML;
        sponsorTrack.innerHTML = originalContent + originalContent;
        
        // Prevent image dragging
        sponsorTrack.querySelectorAll('img').forEach(img => {
            img.addEventListener('dragstart', e => e.preventDefault());
        });
    }
});
</script>

{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
<script>
{% for category, message in messages %}
showToast('{{ message }}', '{{ category }}');
{% endfor %}
</script>
{% endif %}
{% endwith %}

{% endblock %}
